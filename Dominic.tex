\documentclass{article}
\usepackage{tikz}
\usepackage{xcolor}

\newcommand{\todo}[1]{\color{red}#1\color{black}\ }

% Base information
\newcommand{\name}{Dominic Callan}
\newcommand{\nickname}{Umbra}
\newcommand{\proficiencybonus}{2}
\newcommand{\backstory}{
	Dominic was a common footsoldier which was forcefully conscripted into a secretive project.
	His memory was wiped and he was told that he used to be a criminal but was given a second chance for helping out with finding a way to fight against something called the Void. In actuality, the projects purpose was to infuse soldiers with this Void and learn how to control it in order to create an unstoppable army. Given the name Umbra, he underwent many painful experiments, but the Void kept lashing out around him. During an experiment where he was exposed to the plane of Order, he got connected to The Universal Clock. This calmed the void inside of him and gave him insight into the true nature of the world and his past. In a fit of rage, he went around slaughtering everyone in the compound, after which his void became quiet and unresponsive.
}
\newcommand{\misc}{
	Having come into contact with The Universal Clock and partially attuned to the Void, Dominic can sense the vibrations of the universe and follows what he thinks is the will of The Universal Clock.
	
	Dominic is a fairly tall humanoid figure made of a dark, unknown substance. When in great distress, his shape becomes less solid and more whispy, like smoke. While his face looks almost featureless, he is able to open his mouth by forcefully ripping the surface. His natural voice is quite low, and not wanting to come across as dangerous, he keeps his face hidden behind a mask and learned to change his voice so he sounds less intimidating.
}
\newcommand{\quotes}{
	"We're drowning in the waveforms and our minds are in the tides."
	"The Void is elegant malevolence, sequestered in the resonance."
}

% Stats
\newcommand{\basestatSTR}{8}
\newcommand{\basestatCON}{14}
\newcommand{\basestatDEX}{13}
\newcommand{\basestatCHA}{15}
\newcommand{\basestatWIS}{10}
\newcommand{\basestatINT}{12}

% Race
\newcommand{\race}{Quiet Void}
\newcommand{\racialstatbonusDEX}{1}
\newcommand{\racialstatbonusCHA}{1}
\newcommand{\skillproficiencyPerformance}{p}
\newcommand{\featActor}{X}
\newcommand{\languageCommon}{p}
\newcommand{\languageAbyssal}{p}

% Class
\newcommand{\class}{Sorcerer}
\newcommand{\sorcerousorigin}{Clockwork Soul}
\newcommand{\hitdie}{6}
\newcommand{\weaponproficiencyDagger}{p}
\newcommand{\weaponproficiencyDart}{p}
\newcommand{\weaponproficiencySling}{p}
\newcommand{\weaponproficiencyQuarterstaff}{p}
\newcommand{\weaponproficiencyLightCrossbow}{p}
\newcommand{\savingthrowproficiencyCON}{p}
\newcommand{\savingthrowproficiencyCHA}{p}
\newcommand{\skillproficiencyPersuasion}{p}
\newcommand{\skillproficiencyReligion}{p}

% Subclass
\newcommand{\manifestationsoforder}{The ticking of The Universal Clock can be heard by you and those affected by your magic.}

% Background
\newcommand{\background}{Experiment}
\newcommand{\skillproficiencyDeception}{p}
\newcommand{\skillproficiencyIntimidation}{p}


% Stats
\newcommand{\statSTR}{\the\numexpr
	\basestatSTR
	+ \ifx\racialstatbonusSTR\undefined0\else\racialstatbonusSTR\fi}
\newcommand{\statCON}{\the\numexpr
	\basestatCON
	+ \ifx\racialstatbonusCON\undefined0\else\racialstatbonusCON\fi}
\newcommand{\statDEX}{\the\numexpr
	\basestatDEX
	+ \ifx\racialstatbonusDEX\undefined0\else\racialstatbonusDEX\fi}
\newcommand{\statCHA}{\the\numexpr
	\basestatCHA
	+ \ifx\racialstatbonusCHA\undefined0\else\racialstatbonusCHA\fi
	+ \ifx\featActor\undefined0\else1\fi} % Actor feat
\newcommand{\statWIS}{\the\numexpr
	\basestatWIS
	+ \ifx\racialstatbonusWIS\undefined0\else\racialstatbonusWIS\fi}
\newcommand{\statINT}{\the\numexpr
	\basestatINT
	+ \ifx\racialstatbonusINT\undefined0\else\racialstatbonusINT\fi}

% Stat modifiers
\newcommand{\modifierSTR}{\the\numexpr (\statSTR - 10)/2}
\newcommand{\modifierCON}{\the\numexpr (\statCON - 10)/2}
\newcommand{\modifierDEX}{\the\numexpr (\statDEX - 10)/2}
\newcommand{\modifierCHA}{\the\numexpr (\statCHA - 10)/2}
\newcommand{\modifierWIS}{\the\numexpr (\statWIS - 10)/2}
\newcommand{\modifierINT}{\the\numexpr (\statINT - 10)/2}

\input{calculations/skillmodifiers.tex}

\newcommand{\spellsaveDC}{\the\numexpr
	8
	+ \proficiencybonus + \modifierCHA \relax}
\newcommand{\spellattackmodifier}{\the\numexpr 
	\proficiencybonus
	+ \modifierCHA \relax}

\begin{document}
	
	Hello again \name{}
	
	% Stat block
	\todo{Fix modifiers because of weird rounding}\\
	\begin{tikzpicture}[scale=0.2]
		\draw (0:23) node[align=center] {CON\\\statCON{} (\modifierCON{})};
		\draw (60:23) node[align=center] {STR\\\statSTR{} (\modifierSTR{})};
		\draw (120:23) node[align=center] {CHA\\\statCHA{} (\modifierCHA{})};
		\draw (180:23) node[align=center] {WIS\\\statWIS{} (\modifierWIS{})};
		\draw (240:23) node[align=center] {INT\\\statINT{} (\modifierINT{})};
		\draw (300:23) node[align=center] {DEX\\\statDEX{} (\modifierDEX{})};
		
		\coordinate (CON) at (0:\statCON);
		\coordinate (STR) at (60:\statSTR);
		\coordinate (CHA) at (120:\statCHA);
		\coordinate (WIS) at (180:\statWIS);
		\coordinate (INT) at (240:\statINT);
		\coordinate (DEX) at (300:\statDEX);
		
		\draw[fill=blue!25] (CON) -- (STR) -- (CHA) -- (WIS) -- (INT) -- (DEX) -- cycle;
		
		\draw (0:10) -- (0:20);
		\draw (60:10) -- (60:20);
		\draw (120:10) -- (120:20);
		\draw (180:10) -- (180:20);
		\draw (240:10) -- (240:20);
		\draw (300:10) -- (300:20);
		
		\draw (0:10) -- (60:10) -- (120:10) -- (180:10) -- (240:10) -- (300:10) -- cycle;
		\draw (0:12) -- (60:12) -- (120:12) -- (180:12) -- (240:12) -- (300:12) -- cycle;
		\draw (0:14) -- (60:14) -- (120:14) -- (180:14) -- (240:14) -- (300:14) -- cycle;
		\draw (0:16) -- (60:16) -- (120:16) -- (180:16) -- (240:16) -- (300:16) -- cycle;
		\draw (0:18) -- (60:18) -- (120:18) -- (180:18) -- (240:18) -- (300:18) -- cycle;
		\draw (0:20) -- (60:20) -- (120:20) -- (180:20) -- (240:20) -- (300:20) -- cycle;
		
	\end{tikzpicture}
	
	\newcommand{\equic}[2][1 cm]{
		\draw (0,0) circle (#1);
		\pgfmathparse{#1/1 cm+0.25};
		\edef\oc{\pgfmathresult cm};
		\foreach \i in {1,...,#2} {
			\coordinate (N\i) at (-\i*360/#2:#1);
			\coordinate (NB\i) at (-\i*360/#2-180/#2:#1);
			\fill[black] (N\i) circle (0.05 cm);
			\fill[black] (NB\i) circle (0.05 cm);
			\draw (-\i*360/#2:\oc) node{$\i$};
			\draw (-\i*360/#2-180/#2:\oc) node{$\bar{\i}$};
		}
	}
	
	
	\input{widgets/skilltable.tex}
	
	% Sorcerer Spellcasting (CHA)
	Spell Save DC: \spellsaveDC{}
	
	
	% Equipment
	Mask
	Dark green cloak
	
	% Feats
	\ifx\featActor\undefined\else{
		\subsection*{Actor}
			Skilled at mimicry and dramatics, you gain the following benefits:
			\begin{itemize}
				\item Increase your Charisma score by 1, to a maximum of 20.
				\item You have an advantage on Charisma (Deception) and Charisma (Performance) checks when trying to pass yourself off as a different person.
				\item You can mimic the speech of another person or the sounds made by other creatures. You must have heard the person speaking, or heard the creature make the sound, for at least 1 minute. A successful Wisdom (Insight) check contested by your Charisma (Deception) check allows a listener to determine that the effect is faked.
			\end{itemize}
	}\fi

\end{document}
